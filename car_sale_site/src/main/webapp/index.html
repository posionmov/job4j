<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>

    <style>
        body {
            background-color: rgba(0, 0, 0, 0.1);
        }

        p {
            margin-left: 15px;
        }

        .labelModal {
            width: 200px;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 25px;
            background: #67d30e;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            background: rgba(94, 99, 175, 0.57);
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            background: rgba(43, 63, 175, 0.64);
            cursor: pointer;
        }

        th {
            text-align: center;
        }

        .headDiv {
            background-color: rgba(0, 27, 255, 0.42);
            margin-top: 15px;
            margin-left: 50px;
            margin-right: 50px;
            padding: 5px;
            border-radius: 10px;
        }

        .headElement {
            float: left;
            width: 20%;
            padding: 1px;
        }

        .tableDivMain {
            background-color: rgba(0, 27, 255, 0.42);
            border-radius: 10px;
            margin-top: 15px;
            margin-left: 50px;
            margin-right: 50px;
            padding: 5px;
            border: 5px;
        }

        .addAdModalItem {
            margin: 15px;
            width: 570px;
        }

        .multiselect-container>li>a>label {
            padding: 4px 20px 3px 20px;
        }
    </style>

    <script>

        var marks = [];
        var bodies = [];
        var trans = [];
        var colors = [];
        var engines = [];
        var drives = [];
        var ads = [];

        // Метод, старабывающий при загрузке страницы
        // Наполняет HTML дефолтными данными
        $.ajax({
            url: "./list",
            method: "get",
            success: function (data) {
                var parsedData = JSON.parse(data);
                console.log(parsedData);
                marks = parsedData["marks"];
                bodies = parsedData["bodies"];
                trans = parsedData["transmissions"];
                colors = parsedData["colors"];
                engines = parsedData["engines"];
                drives = parsedData["drives"];
                ads = parsedData["ads"];


                if (parsedData["login"] == false) {
                    document.getElementById("createAdHeader").style.visibility = "hidden";
                    document.getElementById("headLogOut").style.visibility = "hidden";
                    document.getElementById("headLogin").style.visibility = "visible";
                } else {
                    document.getElementById("headLogOut").style.visibility = "visible";
                    document.getElementById("createAdHeader").style.visibility = "visible";
                    document.getElementById("headLogin").style.visibility = "hidden";

                }

                fillMarks();
                fillBodies();
                fillTransmissions();
                fillColor();
                fillEngines();
                fillDrives();
                fillRudders();
                fillAds();
            }
        });

        // Метод наполнения модала данными из обьявления
        function fillModal(adId) {
            document.getElementById("modalMark").innerText = ads[adId]["car"]["mark"]["descr"];
            document.getElementById("modalModel").innerText = ads[adId]["car"]["carModel"]["descr"];
            document.getElementById("modalBody").innerText = ads[adId]["car"]["bodyType"]["descr"];
            document.getElementById("modalYear").innerText = ads[adId]["car"]["yearOfManufactured"];
            document.getElementById("modalMills").innerText = ads[adId]["car"]["mileage"];
            document.getElementById("modalTrans").innerText = ads[adId]["car"]["transmission"]["descr"];
            document.getElementById("modalEngine").innerText = ads[adId]["car"]["engine"]["descr"];
            document.getElementById("modalEngineCapacity").innerText = ads[adId]["car"]["engineCapacity"];
            document.getElementById("modalPower").innerText = ads[adId]["car"]["power"];
            document.getElementById("modalDrive").innerText = ads[adId]["car"]["drive"]["descr"];
            var rudder = (ads[adId]["car"]["leftRudder"] == true) ? "Леворульная" : "Праворульная";
            document.getElementById("modalRudder").innerText = rudder;
            document.getElementById("modalColor").innerText = ads[adId]["car"]["carColor"]["descr"];
            document.getElementById("modalPrice").innerText = ads[adId]["car"]["price"];
            document.getElementById("modalSeller").innerText = ads[adId]["user"]["name"];
            document.getElementById("modalConnection").innerText = ads[adId]["user"]["email"];

        }

        // Метод наполнения таблицы обьявлений
        function fillAds() {
            var tableAds = document.getElementById("tableBody");
            tableAds.innerHTML = "";
            for (var i = 0; i < ads.length; i++) {
                tableAds.innerHTML += "<tr><td>" + ads[i]["id"] + "</td>\n" +
                                            "<td> "
                                                + "<div><label style='margin-right: 10px'>Марка: </label>" + ads[i]["car"]["mark"]["descr"] + "</div>"
                                                + "<div><label style='margin-right: 10px'>Цена: </label>" + ads[i]["car"]["price"] + "</div>"
                                                + "<div><label style='margin-right: 10px'>Описание: </label>" + ads[i]["description"] + "</div>"
                                                + "<div><label style='margin-right: 10px'>Цвет автомобиля: </label>" + ads[i]["car"]["carColor"]["descr"] + "</div>"
                                        + "</td>\n"
                                        + "<td>\n"
                                            +"<div class=\"btn-group-vertical\">\n"
                                                +"<button type=\"button\" class=\"btn btn-default\" onclick=\"fillModal(" + i + ")\" data-toggle=\"modal\" data-target=\"#adModal\">Обьявление</button>\n"
                                                + "<button type=\"button\" class=\"btn btn-default\">Удалить обьявление</button>\n"
                                            +"</div>\n"
                                        + "</td></tr>";
            }
        }

        // Метод наполнения поля выбора типа руля (левый или правый)
        function fillRudders() {
            var rudderSelect = document.getElementById("rudderSelect");
            var modalRudderSelect = document.getElementById("modalRudderSelect");
            rudderSelect.options[1] = new Option("Левый", "true");
            modalRudderSelect.options[1] = new Option("Левый", "true");
            rudderSelect.options[2] = new Option("Правый", "false");
            modalRudderSelect.options[2] = new Option("Правый", "false");
        }

        // Метод наполнения поля выбора типа привода
        function fillDrives() {
            var driveSelect = document.getElementById("driveSelect");
            var modalDriveSelect = document.getElementById("modalDriveSelect");
            for (var i = 0; i < bodies.length; i++) {
                driveSelect.options[i + 1] = new Option(drives[i]["descr"], drives[i]["id"]);
                modalDriveSelect.options[i + 1] = new Option(drives[i]["descr"], drives[i]["id"]);
            }
        }

        // Метод наполнения поля выбора типа двигателя (бензин, дизель и тп)
        function fillEngines() {
            var engineSelect = document.getElementById("engineSelect");
            var modalEngineSelect = document.getElementById("modalEngineSelect");
            for (var i = 0; i < bodies.length; i++) {
                engineSelect.options[i + 1] = new Option(engines[i]["descr"], engines[i]["id"]);
                modalEngineSelect.options[i + 1] = new Option(engines[i]["descr"], engines[i]["id"]);
            }
        }

        // Метод наполнения поля выбора цветв
        function fillColor() {
            var colorSelect = document.getElementById("colorSelect");
            var modalColorSelect = document.getElementById("modalColorSelect");
            for (var i = 0; i < bodies.length; i++) {
                colorSelect.options[i + 1] = new Option(colors[i]["descr"], colors[i]["id"]);
                modalColorSelect.options[i + 1] = new Option(colors[i]["descr"], colors[i]["id"]);
            }
        }

        // Метод наполнения поля выбора коробки передач
        function fillTransmissions() {
            var transSelect = document.getElementById("transSelect");
            var modalTransSelect = document.getElementById("modalTransSelect");
            for (var i = 0; i < bodies.length; i++) {
                transSelect.options[i + 1] = new Option(trans[i]["descr"], trans[i]["id"]);
                modalTransSelect.options[i + 1] = new Option(trans[i]["descr"], trans[i]["id"]);
            }
        }

        // Метод наполнения поля выбора кузовов
        function fillBodies() {
            var bodySelect = document.getElementById("bodySelect");
            var modalBodySelect = document.getElementById("modalBodySelect");
            for (var i = 0; i < bodies.length; i++) {
                bodySelect.options[i + 1] = new Option(bodies[i]["descr"], bodies[i]["id"]);
                modalBodySelect.options[i + 1] = new Option(bodies[i]["descr"], bodies[i]["id"]);
            }
        }

        // Метод наполнения поля марок автомобилей
        function fillMarks() {
            var markField = document.getElementById("marcSelect");
            var modalMarcSelect = document.getElementById("modalMarcSelect");
            for (var i = 0; i < marks.length; i++) {
                markField.options[i + 1] = new Option(marks[i]["descr"], marks[i]["id"]);
                modalMarcSelect.options[i + 1] = new Option(marks[i]["descr"], marks[i]["id"]);
            }
        }

        // Метод наполнения поля моделей при изменении поля марки
        function onChangeMark() {
            var markValue = document.getElementById("marcSelect").value;
            var modalMarcSelect = document.getElementById("modalMarcSelect").value;
            console.log(markValue);
            var modelField = document.getElementById("modelSelect");
            var modalModelSelect = document.getElementById("modalModelSelect");
            for (var i = 0; i < marks.length; i++) {
                if (marks[i]["id"] == markValue || marks[i]["id"] == modalMarcSelect) {
                    for (var j = 0; j < marks[i]["models"].length; j++) {
                        modelField.options[j + 1] = new Option(marks[i]["models"][j]["descr"], marks[i]["models"][j]["id"]);
                        modalModelSelect.options[j + 1] = new Option(marks[i]["models"][j]["descr"], marks[i]["models"][j]["id"]);
                    }
                }
            }
        }

        // Метод вывода года при вводе
        function onInputYear() {
            if (document.getElementById("yearInput").value == 2019) {
                document.getElementById("yearShow").innerText = "Все";
            } else {
                document.getElementById("yearShow").innerText = document.getElementById("yearInput").value;
            }
        }

        // Метод вывода пробега при вводе
        function onInputMills() {
            if (document.getElementById("millsInput").value == 900001) {
                document.getElementById("millsShow").innerText = "Все";
            } else {
                document.getElementById("millsShow").innerText = document.getElementById("millsInput").value;
            }
        }

        // Метод вывода обьема двигателя при вводе
        function onInputCapacity() {
            if (document.getElementById("capacityInput").value == 7) {
                document.getElementById("capacityShow").innerText = "Все";
            } else {
                document.getElementById("capacityShow").innerText = document.getElementById("capacityInput").value;
            }
        }

        // Метод вывода мощности двигателя при вводе
        function onInputPower() {
            if (document.getElementById("powerInput").value == 500) {
                document.getElementById("powerShow").innerText = "Все";
            } else {
                document.getElementById("powerShow").innerText = document.getElementById("powerInput").value;
            }
        }

        // Метод авторизации
        function auth() {
            var login = document.getElementById("login").value;
            var password = document.getElementById("password").value;

            $.ajax({
                url: "./auth",
                method: "post",
                data: {
                    login : login,
                    password : password
                },
                success: function (data) {
                    console.log(JSON.parse(data));
                    if (JSON.parse(data)["auth"] === true) {
                        document.location.reload();
                    } else {
                        document.getElementById("incorrect").innerText = "Не верный логин или пароль";
                    }
                }
            });
        }

        // Метод создания небольшого окна регистрации
        function goToRegister() {
            window.open("./register.html", "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=430,height=400");
        }

        // Метод создания обьявления
        function createAd() {
            $.ajax({
                url: "./add",
                method: "post",
                data: {
                    description: document.getElementById("modalAddDescr").value,
                    year: document.getElementById("addModalYear").value,
                    mills: document.getElementById("addModalMills").value,
                    capacity: document.getElementById("addModalCapacity").value,
                    power: document.getElementById("addModalPower").value,
                    left: document.getElementById("modalRudderSelect").value,
                    price: document.getElementById("modalAddPrice").value,
                    body: document.getElementById("modalBodySelect").value,
                    mark: document.getElementById("modalMarcSelect").value,
                    trans: document.getElementById("modalTransSelect").value,
                    engine: document.getElementById("modalEngineSelect").value,
                    drive: document.getElementById("modalDriveSelect").value,
                    color: document.getElementById("modalColorSelect").value,
                    model: document.getElementById("modalModelSelect").value
                },
                success: function (data) {
                    if (JSON.parse(data)["newAd"] == true) {
                        window.location.reload();
                    }
                }
            });
        }

        // Метод выхода
        // Уничтожает данные в сессии и перезагружает страницу
        function signOut() {
            $.ajax({
                url: "./auth",
                method: "get",
                data: {
                    signOut : true,
                },
                success: function (data) {
                    window.location.reload();
                }
            });
        }

        // Метод поиска по обьявлениям
        function findAds() {

            var from = document.getElementById("priceFrom").value == "" ? 0 : document.getElementById("priceFrom").value;
            var to = document.getElementById("priceTo").value == "" ? 0 : document.getElementById("priceTo").value;

            var year = document.getElementById("yearInput").value == 2019 ? 0 : document.getElementById("yearInput").value;
            var mills = document.getElementById("millsInput").value == 900001 ? 0 : document.getElementById("millsInput").value;
            var capacity = document.getElementById("capacityInput").value == 7 ? 0 : document.getElementById("capacityInput").value;
            var power = document.getElementById("powerInput").value == 500 ? 0 : document.getElementById("powerInput").value;


            $.ajax({
                url: "./search",
                method: "get",
                data: {
                    mark : document.getElementById("marcSelect").value,
                    model : document.getElementById("modelSelect").value,
                    body : document.getElementById("bodySelect").value,
                    year : year,
                    mileage : mills,
                    trans : document.getElementById("transSelect").value,
                    engine : document.getElementById("engineSelect").value,
                    capacity : capacity,
                    power : power,
                    drive : document.getElementById("driveSelect").value,
                    left : document.getElementById("rudderSelect").value,
                    color : document.getElementById("colorSelect").value,
                    priceFrom : from,
                    priceTo : to
                },
                success: function (data) {
                    console.log(JSON.parse(data));
                    ads = JSON.parse(data)["ads"];
                    fillAds()
                }
            });
        }

    </script>
</head>
<body>
    <nav class="navbar navbar-inverse" style="border-radius: 0">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand">Auto-sell.ru</a>
            </div>
            <ul class="nav navbar-nav">
                <li class="active"><a onclick="document.location.reload()">Главная страница</a></li>
                <li id="createAdHeader" style="visibility: hidden"><a href="#" data-toggle="modal" data-target="#addAdModal">Создать обьявление</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a style="visibility: hidden" data-toggle="modal" data-target="#myModal" id="headLogin">
                    <span class="glyphicon glyphicon-user"></span>
                    Войти или зарегистрироваться
                    </a>
                </li>
                <li id="headLogOut" style="visibility: hidden"><a href="#" onclick="signOut()"><span class="glyphicon glyphicon-user"></span> Выйти</a></li>

            </ul>
        </div>
    </nav>

    <div class="headDiv">
        <div class="dropdown headElement">
            <select class="form-control" id="marcSelect" onchange="onChangeMark()">
                <option value="0">Выберите марку</option>
            </select>
        </div> <!--Марка-->
        <div class="dropdown headElement">
            <select class="form-control" id="modelSelect">
                <option value="0">Выберите модель</option>
            </select>
        </div> <!--Модель-->
        <div class="dropdown headElement">
            <select class="form-control" id="bodySelect">
                <option value="0">Выберите тип кузова</option>
            </select>
        </div> <!--Тип кузова-->
        <div class="dropdown headElement">
            <div style="float: left; margin-top: 5px; margin-left: 5px">
                <label>Выпуск от:</label>
            </div>
            <div id="yearShow" style="float: left; margin-left: 3px; margin-top: 5px; width: 47px">Все</div>
            <input style="float: left; width: auto; margin-left: 3px; margin-top: 3px" type="range" min="1900" max="2019" value="2019" class="slider" id="yearInput" oninput="onInputYear()">
        </div> <!--Год выпуска-->

        <div class="dropdown headElement">
            <div style="float: left; margin-top: 5px; margin-left: 5px">
                <label>Пробег км от:</label>
            </div>
            <div id="millsShow" style="float: left; margin-left: 3px; margin-top: 5px; width: 47px">Все</div>
            <input style="float: left; width: auto; margin-left: 3px; margin-top: 3px" type="range" min="0" max="900001" value="900001" class="slider" id="millsInput" oninput="onInputMills()">
        </div> <!--Пробег-->

        <div style="clear: both"></div>

        <div class="dropdown headElement">
            <select class="form-control" id="transSelect">
                <option value="0">Выберите коробку передач</option>
            </select>

        </div> <!--Коробка передач-->
        <div class="dropdown headElement">
            <select class="form-control" id="engineSelect">
                <option value="0">Выберите тип двигателя</option>
            </select>
        </div> <!--Тип двигателя-->
        <div class="dropdown headElement">
            <div style="float: left; margin-top: 5px; margin-left: 5px">
                <label>V двигателя от:</label>
            </div>
            <div id="capacityShow" style="float: left; margin-left: 3px; margin-top: 5px; width: 27px">Все</div>
            <input style="float: left; width: auto; margin-left: 3px; margin-top: 3px" type="range" min="0" max="7" value="7" class="slider" id="capacityInput" oninput="onInputCapacity()">

        </div> <!--Обьем двигателя-->
        <div class="dropdown headElement">
            <div style="float: left; margin-top: 5px; margin-left: 5px">
                <label>Мощность от:</label>
            </div>
            <div id="powerShow" style="float: left; margin-left: 3px; margin-top: 5px; width: 27px">Все</div>
            <input style="float: left; width: auto; margin-left: 3px; margin-top: 3px" type="range" min="0" max="500" value="500" class="slider" id="powerInput" oninput="onInputPower()">
        </div> <!--Мощность-->
        <div class="dropdown headElement">
            <select class="form-control" id="driveSelect">
                <option value="0">Выберите привод</option>
            </select>
        </div> <!--Привод-->

        <div style="clear: both"></div>

        <div class="dropdown headElement">
            <select class="form-control" id="rudderSelect">
                <option value="true">Выберите руль</option>
            </select>
        </div> <!--Руль-->
        <div class="dropdown headElement">
            <select class="form-control" id="colorSelect">
                <option value="0">Выберите цвет</option>
            </select>
        </div> <!--Цвет-->
        <div class="input-group headElement">
            <span class="input-group-addon">Цена от</span>
            <input id="priceFrom" type="number" class="form-control" name="msg" placeholder="введите цену">
        </div>
        <div class="input-group headElement">
            <span class="input-group-addon">Цена до</span>
            <input id="priceTo" type="number" class="form-control" name="msg" placeholder="введите цену">
        </div>
        <div class="input-group headElement">
            <button type="button" class="btn btn-success" style="width: 100%" onclick="findAds()">Найти</button>
        </div>
        <div style="clear: both"></div>

    </div>

    <div class="tableDivMain border">
        <table class="table table-hover" id="usersTable">
            <thead>
            <tr>
                <th style="width: 15%">Id</th>
                <th style="width: 65%">Описание обьявления</th>
                <th style="width: 150px">(действия)</th>
            </tr>
            </thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>

    <!-- Модал авторизации -->
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div style="background-color: aqua; border-radius: 15px; margin: 20px; padding: 10px">
                    <div style="text-align: center">
                        <h2>Авторизация</h2>
                    </div>

                    <div class="form-group">
                        <label for="login">Логин:</label>
                        <input type="text" class="form-control" id="login">
                    </div>
                    <div class="form-group">
                        <label for="password">Пароль:</label>
                        <input type="password" class="form-control" id="password">
                    </div>
                    <div class="btn-group" style="margin-left: 160px">
                        <button type="button" class="btn btn-default" onclick="auth()">Войти</button>
                        <button type="button" class="btn btn-default" onclick="goToRegister()">Зарегистрироваться</button>
                        <div id="incorrect"></div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Модал для обьявления -->
    <div id="adModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div style="background-color: aqua; border-radius: 15px; margin: 20px; padding: 10px">
                    <div style="text-align: center">
                        <h2>Информация об обьявлении</h2>
                    </div>
                    <div>
                    <!--Марка-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalMark">Марка:</label>
                        <p class="form-control-static" id="modalMark"></p>
                    </div>

                    <!--Модель-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalModel">Модель:</label>
                        <p class="form-control-static" id="modalModel"></p>
                    </div>

                    <!--Тип кузова-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalBody">Тип кузова:</label>
                        <p class="form-control-static" id="modalBody"></p>
                    </div>

                    <!--Год выпуска-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalYear">Год выпуска:</label>
                        <p class="form-control-static" id="modalYear"></p>
                    </div>

                    <!--Пробег-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalMills">Пробег:</label>
                        <p class="form-control-static" id="modalMills"></p>
                    </div>

                    <!--Коробка передач-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalTrans">Коробка передач:</label>
                        <p class="form-control-static" id="modalTrans"></p>
                    </div>

                    <!--Тип двигателя-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalEngine">Тип двигателя:</label>
                        <p class="form-control-static" id="modalEngine"></p>
                    </div>

                    <!--обьем двигателя-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalEngineCapacity">Обьем двигателя:</label>
                        <p class="form-control-static" id="modalEngineCapacity"></p>
                    </div>

                    <!--Мощность двигателя-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalPower">Мощность двигателя:</label>
                        <p class="form-control-static" id="modalPower"></p>
                    </div>


                    <!--Привод-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalDrive">Привод:</label>
                        <p class="form-control-static" id="modalDrive"></p>
                    </div>

                    <!--Тип руля-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalRudder">Тип руля:</label>
                        <p class="form-control-static" id="modalRudder"></p>
                    </div>


                    <!--Цвет-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalColor">Цвет:</label>
                        <p class="form-control-static" id="modalColor"></p>
                    </div>

                    <!--Цена-->
                    <div class="form-group elementInForm">
                        <label class="control-label col-sm-2 labelModal" for="modalPrice">Цена:</label>
                        <p class="form-control-static" id="modalPrice"></p>
                    </div>


                    <!--Логин продавца-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalSeller">Продавец:</label>
                        <p class="form-control-static" id="modalSeller"></p>
                    </div>

                    <!--Телефон продавца (или почта)-->
                    <div class="form-group">
                        <label class="control-label col-sm-2 labelModal" for="modalConnection">Связь с продавцом:</label>
                        <p class="form-control-static" id="modalConnection"></p>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модал для добавления обьявления -->
    <div id="addAdModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalMarcSelect" onchange="onChangeMark()">
                        <option>Выберите марку</option>
                    </select>
                </div> <!--Марка-->

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalModelSelect">
                        <option>Выберите модель</option>
                    </select>
                </div> <!--Модель-->

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalBodySelect">
                        <option>Выберите тип кузова</option>
                    </select>
                </div> <!--Тип кузова-->

                <div class="input-group addAdModalItem">
                    <input id="addModalYear" type="number" class="form-control" placeholder="Введите год выпуска">
                </div> <!--Год выпуска-->

                <div class="input-group addAdModalItem">
                    <input id="addModalMills" type="number" class="form-control" placeholder="Введите пробег">
                </div><!--Пробег-->

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalTransSelect">
                        <option>Выберите коробку передач</option>
                    </select>
                </div> <!--Коробка передач-->

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalEngineSelect">
                        <option>Выберите тип двигателя</option>
                    </select>
                </div> <!--Тип двигателя-->

                <div class="input-group addAdModalItem">
                    <input id="addModalCapacity" type="number" class="form-control" placeholder="Введите обьем двигателя">
                </div><!--Обьем двигателя-->

                <div class="input-group addAdModalItem">
                    <input id="addModalPower" type="number" class="form-control" placeholder="Введите мощность двигателя">
                </div> <!--Мощность-->

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalDriveSelect">
                        <option>Выберите привод</option>
                    </select>
                </div> <!--Привод-->

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalRudderSelect">
                        <option>Выберите руль</option>
                    </select>
                </div> <!--Руль-->

                <div class="dropdown addAdModalItem">
                    <select class="form-control" id="modalColorSelect">
                        <option>Выберите цвет</option>
                    </select>
                </div> <!--Цвет-->

                <div class="input-group addAdModalItem">
                    <input id="modalAddPrice" type="number" class="form-control" name="msg" placeholder="Цена">
                </div> <!--Цена-->

                <div class="input-group addAdModalItem">
                    <input id="modalAddDescr" type="text" class="form-control" name="msg" placeholder="Описание">
                </div> <!--Описание-->

                <div class="input-group addAdModalItem">
                    <button type="button" class="btn btn-success" style="width: 100%" onclick="createAd()">Создать обьявление</button>
                </div>
            </div>
        </div>
    </div>

</body>
</html>